import { c as createAstro, a as createComponent, r as renderTemplate, b as renderHead, d as renderComponent } from '../entry.mjs';
import Slugger from 'github-slugger';
import '@astrojs/netlify/netlify-functions.js';
import 'preact';
import 'preact-render-to-string';
import 'vue';
import 'vue/server-renderer';
import 'html-escaper';
import 'node-html-parser';
import 'axios';
/* empty css                           *//* empty css                           *//* empty css                           */import '@storyblok/js';
/* empty css                           *//* empty css                          */import 'clone-deep';
import 'slugify';
import 'shiki';
/* empty css                           */import 'camelcase';
import '@astrojs/rss';
/* empty css                           */import 'mime';
import 'cookie';
import 'kleur/colors';
import 'string-width';
import 'path-browserify';
import 'path-to-regexp';

const metadata = { "headings": [{ "depth": 2, "slug": "what-is-punctuation", "text": "What is Punctuation?" }, { "depth": 3, "slug": "what-is-the-purpose-of-punctuation", "text": "What is the Purpose of Punctuation?" }, { "depth": 2, "slug": "what-is-capitalization", "text": "What is Capitalization?" }, { "depth": 2, "slug": "why-punctuation-and-capitalization-matter-for-speech-recognition", "text": "Why Punctuation and Capitalization Matter for Speech Recognition" }, { "depth": 2, "slug": "how-punctuation-in-automatic-speech-recognition-works", "text": "How Punctuation in Automatic Speech Recognition Works" }, { "depth": 2, "slug": "how-to-evaluate-punctuation-and-capitalization-accuracy", "text": "How to Evaluate Punctuation and Capitalization Accuracy" }, { "depth": 2, "slug": "deepgrams-punctuation-and-capitalization-for-asr-offerings", "text": "Deepgram\u2019s Punctuation and Capitalization for ASR Offerings" }, { "depth": 2, "slug": "wrapping-up", "text": "Wrapping Up" }], "source": `Do you ever get frustrated when you're trying to dictate a text message or email and your phone keeps capitalizing the wrong words? Or adding extra periods at the end of your sentences? You're not alone! Automatic speech recognition for punctuation and capitalization can be tricky. In this blog post, we'll explore what punctuation and capitalization mean, how they're used, and some of the problems they present for speech-to-text solutions. We'll also explain what your best option for a speech recognition solution is if you need a transcript that's punctuated and capitalized correctly. To get started, let's take a look at what punctuation and capitalization are, how they're used, and how they different cross-linguistically.

## What is Punctuation?

Punctuation characters are symbols that are used to indicate the structure and organization of a text. In the West, [the tradition of punctuation dates from the 3rd Century BCE](https://www.bbc.com/culture/article/20150902-the-mysterious-origins-of-punctuation). Before that, texts in languages like Greek and Latin were written without any punctuation or capitalization at all-and even without spaces between words! Today, punctuation marks are used, among other things, to separate words and phrases and indicate when a sentence is ending. In English, the most common punctuation characters are the period ( . ), comma ( , ) question mark ( ? ), and exclamation point ( ! ), but there are many others, including the semicolon ( ; ), colon ( : ), dash ( - ), parentheses ( (...) ), and quotation marks ( "..." ). But other languages have different punctuation standards. In German, for example, quotation marks often appear as ( \xAB...\xBB ). Japanese punctuation, although somewhat inspired by how Western languages punctuate, uses its own symbols, using ( \u3002) instead of a period/full stop, and ( \u3001) for commas. Other languages have entirely separate traditions of punctuation, marking things that we wouldn't in English or other Western languages. If we look at Tibetan, for example, we find characters that mark the break between syllables ( \u0F0B ), symbols for the end of a section of text ( \u0F0D ) and a larger topic ( \u0F0E ), and a character that marks the start of a text ( \u0F04 ).

### What is the Purpose of Punctuation?

The main function of punctuation is to make a text more understandable. As mentioned above, prior to punctuation, words were written in a singlestreamofcharacterslikethis, which made texts challenging to read. Language is, first and foremost, a spoken or signed system of communication, and not a written one. That means we often need some help to make sure that we can understand what's being communicated in writing, and punctuation is one of the tools that we use to do that (along with other things like spelling according to the relevant standard). For example, if someone's speaking out loud, you're unlikely to confuse "Let's eat, Grandma!" and "Let's eat Grandma!"

But in writing, it's the comma that makes the difference. Punctuation helps by providing some sense of the intonation and pacing that would occur if a sentence was spoken out loud. For example, commas are used to mark brief pauses between words or phrases, while periods are used to mark the end of a sentence, what linguistically we might call an intonational unit. In both cases, these pauses have specific acoustic features that indicate what a speaker is doing when spoken out loud. Likewise, question marks and exclamation points can be used to show excitement or emphasize a point, again reflecting how a sentence would be pronounced and serve to influence the way that a sentence is read. By including punctuation marks like this in writing, the written word is brought closer to the spoken word.

Organization of a text is another purpose of punctuation. For example, semicolons and colons are often used to list items, while dashes can be used to separate parts of a sentence and quotation marks are used to set off dialogue or direct quotes from other sources. These features might not exactly match certain pauses or intonation in the same way that a question mark does, but they still serve to help make a text more understandable. For example, English has a particular intonation for lists-if I say "I need three things: milk, bread, and eggs" there's a pause at the colon, then rising intonation on "milk", then a pause, then rising intonation on "bread", then a pause, and then falling intonation on "eggs". This pattern helps our listeners understand that we're listing things off, but it's spread across several words, and doesn't occur only where the colon does.

## What is Capitalization?

Capitalization is the process of making a letter capital, or upper case. In English, we typically use capital letters to begin sentences and proper nouns, or for emphasis in casual writing. Proper nouns are the specific names of people, places, things, or organizations. For example, "Susan," "New York City," and "Nintendo" are all proper nouns.  Other languages have different standards for capitalization. In German, you capitalize *every* noun, not just proper nouns. And many languages don't have capital letters at all. Arabic, Hebrew, Japanese, Chinese, Hindi-no "capital" option exists in these languages.

Although capitalization isn't found in all languages, it's still important to consider it along with punctuation when thinking about ASR. To some extent, this is because in many Western languages, the two go together-a period marks the end of one sentence, and a capitalized word marks the start of the next. Additionally, these have often been thought of as the same kind of problem and been treated together historically, so it makes sense to think about them together.

## Why Punctuation and Capitalization Matter for Speech Recognition

Typically, ASR systems don't output punctuation or capitalization-the ASR transcripts that you get just consist of lower-case words without any punctuation at all. If you're planning to use your transcripts as the input for machine learning, you might not need to worry about punctuation at all. Typically, these systems are happiest working with unformatted text. However, there are a couple of reasons why you might want your text to be formatted. The first is that, without this formatting, the texts can be hard for humans to read. Just take a look at the snippet below, from [Deepgram's transcription of NASA's first all-female spacewalk](https://deepgram.com/asr-comparison/compare-accuracy/select-alternative/), and you can see how hard it is to figure out what's happening without capitalization and punctuation.

> and jessica and christina we are so proud of you i'm gonna do great today we'll be waiting for you here in a couple of hours when you get home i'm gonna hand you over to stephanie now have a great great eva drew thank you so much and our pleasure working with you this morning and i'm working on getting my ev hat open and i can report is open and stowed

If you want something that's readable by humans, capitalization and punctuation are necessary to make things clearer. You can see the same NASA text below, but with capitalization and punctuation (as well as [diarization](https://blog.deepgram.com/what-is-speaker-diarization/)-breaking up the transcript to isolate different speakers).

> \\[SPEAKER 1:] ...and Jessica and Christina, we are so proud of you. I'm gonna do great today. We'll be waiting for you here in a couple of hours when you get home. I'm gonna hand you over to Stephanie now. Have a great great EVA.
>
> \\[SPEAKER 2:] Drew, thank you so much. And our pleasure working with you this morning, and I'm working on getting my EV hat open and I can report. Is open and stowed.

It's obvious, even at a glance, how much easier it is to read a text like this than it is to read the kind of stream-of-consciousness we see without punctuation and capitalization.  Another use for punctuation in speech-to-text relates to [sentiment analysis](https://blog.deepgram.com/sentiment-analysis-emotion-regulation-difference/). Punctuation marks can be used to divide a text into sections so that you can ask "what's the sentiment in this particular chunk of the transcript?" If you have a transcript from an hour-long call, it's more granular to look at sentiment in small chunks, rather than across the whole call, which punctuation makes easier to do. So how do we get ASR transcripts that have punctuation and capitalization? Let's take a look.

## How Punctuation in Automatic Speech Recognition Works

If you need punctuation in your transcripts, what are your options? ASR providers typically have two ways of getting punctuation into a transcript. The first is a separate punctuation and capitalization model that runs after the text has already been generated by the speech-to-text model. Because punctuation is often a reflection of how something would be said out loud, this method, based only on the text, can create some less-than-useful outputs. This can be shown with a simple example. What is the correct punctuation for the sentence below?

> sam ate dinner

You might have said "a period", which is probably what one of these *post hoc* models would have said. But is this a question or a statement? From the text alone, without any context, it's impossible to determine-it could be a statement or a question. If I played the audio for you, though, you'd immediately understand whether the sentence is a question or a statement based on the speaker's intonation. Determining the correct punctuation in this case is impossible with the words alone; it's much easier if you have access to the audio.

This leads us to the second way to add punctuation to a transcript. If you're using an [end-to-end deep learning system](https://blog.deepgram.com/deep-learning-speech-recognition/) as part of the process to generate your transcript, it's possible to have it output punctuation and capitalization at the same time as the words. A model that creates both text and punctuation can make decisions based on acoustic information, which is often the difference between good and bad punctuation. Let's consider another example. 

<WhitepaperPromo whitepaper="latest"></WhitepaperPromo>

Consider how the word "huh" might be used in speech:

* Huh? = "What did you say?"
* Huh!? = "What are you talking about?!"
* Huh. = "Oh, I see."

All of these are clearly different to a native speaker of English, and you'd have no trouble picking out which meaning was intended from speech (and the punctuation here probably helped you know how I intended these to be read). But in the context of an ASR transcript, knowing which meaning was intended would be very difficult, which is why using the audio is so critical. But even with access to the audio, automatic punctuation can still be tricky. Why? There are three main reasons. The first is that people don't always speak in sentences. If they're reading a speech they probably will, but if you listen to how people speak in meetings or casual settings, you'll find that they often don't speak in tidy ways.

This can make it difficult to decide how something should be punctuated since there aren't clear rules for punctuating text that's derived directly from spoken language. Second, people can disagree on punctuation. Some examples include when and where commas get used (I'm looking at you, [Oxford comma](https://thewritelife.com/is-the-oxford-comma-necessary/)), whether two sentences should be separated by a period or a semicolon, and if side thoughts should be put-inside em-dashes-or (inside parentheses). Because of these variations, it can be challenging to get punctuation to seem exactly right to everyone looking at a transcript (or even a written work like this blog post, for example). Finally, deep learning systems for speech recognition typically use small windows of audio to make predictions about what word is being said. This works well at the level of individual sounds, but can be tricky with intonation, which is one of the main things a system might look at to determine punctuation. That's because intonation patterns can be spread across multiple words within a phrase, meaning any given window might not have all the information it needs to make the best prediction possible.

One solution that some vendors have used to address this problem is having a second script that runs after the first model that doesn't seek to punctuate or capitalize the text, but rather to double-check that what the model output is correct. This can serve as a kind of spelling and grammar check after the fact to help make sure that the punctuation looks correct.

## How to Evaluate Punctuation and Capitalization Accuracy

So how do you evaluate the accuracy of different punctuation and capitalization methods? You can do similar calculations that are used for [word error rate (WER)](https://blog.deepgram.com/what-is-word-error-rate/), a standard way of calculating the accuracy of ASR transcripts. For punctuation, we use the Punctuation Error Rate (PER). When calculating the PER, we care about how punctuation is placed relative to the words (its grammatical accuracy); PER is thus the number of punctuation errors (including misplacements relative to the truth words) divided by the number of truth punctuation tokens; i.e., number of real places that should have punctuation, as seen below. 

![](https://res.cloudinary.com/deepgram/image/upload/v1661976861/blog/complete-guide-punctuation-capitalization-speech-to-text/per_def.png) 

The Capitalization Error (CapER) is used for capitalization accuracy, and has its own subtlety. If we were to compare capitalization across all words in a text, we'd have a very skewed metric because most words aren't capitalized. Rather than comparing the first letter of all words in the truth/predicted sequences, we compare just the aligned words which are capitalized in the truth and/or predicted text. 

![](https://res.cloudinary.com/deepgram/image/upload/v1661976861/blog/complete-guide-punctuation-capitalization-speech-to-text/caper_example.png) 

In the example above, we see that there are two capitalization errors in a sentence with only two capitalized words in the truth text.

## Deepgram's Punctuation and Capitalization for ASR Offerings

As we've seen, end-to-end deep learning systems like Deepgram that have access to acoustic information provide the best option for punctuating and capitalizing a text based on a spoken audio file. At Deepgram, we offer punctuation for all of our models, in any of the languages that we offer-all for free; capitalization is also included for relevant languages. Both punctuation and capitalization have been optimized for each language and use case model. [Check out our documentation for all of the details about how Deepgram punctuation and capitalization work](https://developers.deepgram.com/documentation/features/punctuate/). 

## Wrapping Up

If you'd like to give Deepgram's speech-to-text solution a try-whether you need punctuation or not-you can [sign up for a free trial and get $150 in free credits](https://console.deepgram.com/signup), or [reach out to a member of our team](https://deepgram.com/contact-us/) to discuss how Deepgram can help your business achieve its goals.`, "html": '<p>Do you ever get frustrated when you\u2019re trying to dictate a text message or email and your phone keeps capitalizing the wrong words? Or adding extra periods at the end of your sentences? You\u2019re not alone! Automatic speech recognition for punctuation and capitalization can be tricky. In this blog post, we\u2019ll explore what punctuation and capitalization mean, how they\u2019re used, and some of the problems they present for speech-to-text solutions. We\u2019ll also explain what your best option for a speech recognition solution is if you need a transcript that\u2019s punctuated and capitalized correctly. To get started, let\u2019s take a look at what punctuation and capitalization are, how they\u2019re used, and how they different cross-linguistically.</p>\n<h2 id="what-is-punctuation">What is Punctuation?</h2>\n<p>Punctuation characters are symbols that are used to indicate the structure and organization of a text. In the West, <a href="https://www.bbc.com/culture/article/20150902-the-mysterious-origins-of-punctuation">the tradition of punctuation dates from the 3rd Century BCE</a>. Before that, texts in languages like Greek and Latin were written without any punctuation or capitalization at all-and even without spaces between words! Today, punctuation marks are used, among other things, to separate words and phrases and indicate when a sentence is ending. In English, the most common punctuation characters are the period ( . ), comma ( , ) question mark ( ? ), and exclamation point ( ! ), but there are many others, including the semicolon ( ; ), colon ( : ), dash ( - ), parentheses ( (\u2026) ), and quotation marks ( \u201D\u2026\u201D ). But other languages have different punctuation standards. In German, for example, quotation marks often appear as ( \xAB\u2026\xBB ). Japanese punctuation, although somewhat inspired by how Western languages punctuate, uses its own symbols, using ( \u3002) instead of a period/full stop, and ( \u3001) for commas. Other languages have entirely separate traditions of punctuation, marking things that we wouldn\u2019t in English or other Western languages. If we look at Tibetan, for example, we find characters that mark the break between syllables ( \u0F0B ), symbols for the end of a section of text ( \u0F0D ) and a larger topic ( \u0F0E ), and a character that marks the start of a text ( \u0F04 ).</p>\n<h3 id="what-is-the-purpose-of-punctuation">What is the Purpose of Punctuation?</h3>\n<p>The main function of punctuation is to make a text more understandable. As mentioned above, prior to punctuation, words were written in a singlestreamofcharacterslikethis, which made texts challenging to read. Language is, first and foremost, a spoken or signed system of communication, and not a written one. That means we often need some help to make sure that we can understand what\u2019s being communicated in writing, and punctuation is one of the tools that we use to do that (along with other things like spelling according to the relevant standard). For example, if someone\u2019s speaking out loud, you\u2019re unlikely to confuse \u201CLet\u2019s eat, Grandma!\u201D and \u201CLet\u2019s eat Grandma!\u201D</p>\n<p>But in writing, it\u2019s the comma that makes the difference. Punctuation helps by providing some sense of the intonation and pacing that would occur if a sentence was spoken out loud. For example, commas are used to mark brief pauses between words or phrases, while periods are used to mark the end of a sentence, what linguistically we might call an intonational unit. In both cases, these pauses have specific acoustic features that indicate what a speaker is doing when spoken out loud. Likewise, question marks and exclamation points can be used to show excitement or emphasize a point, again reflecting how a sentence would be pronounced and serve to influence the way that a sentence is read. By including punctuation marks like this in writing, the written word is brought closer to the spoken word.</p>\n<p>Organization of a text is another purpose of punctuation. For example, semicolons and colons are often used to list items, while dashes can be used to separate parts of a sentence and quotation marks are used to set off dialogue or direct quotes from other sources. These features might not exactly match certain pauses or intonation in the same way that a question mark does, but they still serve to help make a text more understandable. For example, English has a particular intonation for lists-if I say \u201CI need three things: milk, bread, and eggs\u201D there\u2019s a pause at the colon, then rising intonation on \u201Cmilk\u201D, then a pause, then rising intonation on \u201Cbread\u201D, then a pause, and then falling intonation on \u201Ceggs\u201D. This pattern helps our listeners understand that we\u2019re listing things off, but it\u2019s spread across several words, and doesn\u2019t occur only where the colon does.</p>\n<h2 id="what-is-capitalization">What is Capitalization?</h2>\n<p>Capitalization is the process of making a letter capital, or upper case. In English, we typically use capital letters to begin sentences and proper nouns, or for emphasis in casual writing. Proper nouns are the specific names of people, places, things, or organizations. For example, \u201CSusan,\u201D \u201CNew York City,\u201D and \u201CNintendo\u201D are all proper nouns.  Other languages have different standards for capitalization. In German, you capitalize <em>every</em> noun, not just proper nouns. And many languages don\u2019t have capital letters at all. Arabic, Hebrew, Japanese, Chinese, Hindi-no \u201Ccapital\u201D option exists in these languages.</p>\n<p>Although capitalization isn\u2019t found in all languages, it\u2019s still important to consider it along with punctuation when thinking about ASR. To some extent, this is because in many Western languages, the two go together-a period marks the end of one sentence, and a capitalized word marks the start of the next. Additionally, these have often been thought of as the same kind of problem and been treated together historically, so it makes sense to think about them together.</p>\n<h2 id="why-punctuation-and-capitalization-matter-for-speech-recognition">Why Punctuation and Capitalization Matter for Speech Recognition</h2>\n<p>Typically, ASR systems don\u2019t output punctuation or capitalization-the ASR transcripts that you get just consist of lower-case words without any punctuation at all. If you\u2019re planning to use your transcripts as the input for machine learning, you might not need to worry about punctuation at all. Typically, these systems are happiest working with unformatted text. However, there are a couple of reasons why you might want your text to be formatted. The first is that, without this formatting, the texts can be hard for humans to read. Just take a look at the snippet below, from <a href="https://deepgram.com/asr-comparison/compare-accuracy/select-alternative/">Deepgram\u2019s transcription of NASA\u2019s first all-female spacewalk</a>, and you can see how hard it is to figure out what\u2019s happening without capitalization and punctuation.</p>\n<blockquote>\n<p>and jessica and christina we are so proud of you i\u2019m gonna do great today we\u2019ll be waiting for you here in a couple of hours when you get home i\u2019m gonna hand you over to stephanie now have a great great eva drew thank you so much and our pleasure working with you this morning and i\u2019m working on getting my ev hat open and i can report is open and stowed</p>\n</blockquote>\n<p>If you want something that\u2019s readable by humans, capitalization and punctuation are necessary to make things clearer. You can see the same NASA text below, but with capitalization and punctuation (as well as <a href="https://blog.deepgram.com/what-is-speaker-diarization/">diarization</a>-breaking up the transcript to isolate different speakers).</p>\n<blockquote>\n<p>[SPEAKER 1:] \u2026and Jessica and Christina, we are so proud of you. I\u2019m gonna do great today. We\u2019ll be waiting for you here in a couple of hours when you get home. I\u2019m gonna hand you over to Stephanie now. Have a great great EVA.</p>\n<p>[SPEAKER 2:] Drew, thank you so much. And our pleasure working with you this morning, and I\u2019m working on getting my EV hat open and I can report. Is open and stowed.</p>\n</blockquote>\n<p>It\u2019s obvious, even at a glance, how much easier it is to read a text like this than it is to read the kind of stream-of-consciousness we see without punctuation and capitalization.  Another use for punctuation in speech-to-text relates to <a href="https://blog.deepgram.com/sentiment-analysis-emotion-regulation-difference/">sentiment analysis</a>. Punctuation marks can be used to divide a text into sections so that you can ask \u201Cwhat\u2019s the sentiment in this particular chunk of the transcript?\u201D If you have a transcript from an hour-long call, it\u2019s more granular to look at sentiment in small chunks, rather than across the whole call, which punctuation makes easier to do. So how do we get ASR transcripts that have punctuation and capitalization? Let\u2019s take a look.</p>\n<h2 id="how-punctuation-in-automatic-speech-recognition-works">How Punctuation in Automatic Speech Recognition Works</h2>\n<p>If you need punctuation in your transcripts, what are your options? ASR providers typically have two ways of getting punctuation into a transcript. The first is a separate punctuation and capitalization model that runs after the text has already been generated by the speech-to-text model. Because punctuation is often a reflection of how something would be said out loud, this method, based only on the text, can create some less-than-useful outputs. This can be shown with a simple example. What is the correct punctuation for the sentence below?</p>\n<blockquote>\n<p>sam ate dinner</p>\n</blockquote>\n<p>You might have said \u201Ca period\u201D, which is probably what one of these <em>post hoc</em> models would have said. But is this a question or a statement? From the text alone, without any context, it\u2019s impossible to determine-it could be a statement or a question. If I played the audio for you, though, you\u2019d immediately understand whether the sentence is a question or a statement based on the speaker\u2019s intonation. Determining the correct punctuation in this case is impossible with the words alone; it\u2019s much easier if you have access to the audio.</p>\n<p>This leads us to the second way to add punctuation to a transcript. If you\u2019re using an <a href="https://blog.deepgram.com/deep-learning-speech-recognition/">end-to-end deep learning system</a> as part of the process to generate your transcript, it\u2019s possible to have it output punctuation and capitalization at the same time as the words. A model that creates both text and punctuation can make decisions based on acoustic information, which is often the difference between good and bad punctuation. Let\u2019s consider another example.</p>\n<WhitepaperPromo whitepaper="latest" />\n<p>Consider how the word \u201Chuh\u201D might be used in speech:</p>\n<ul>\n<li>Huh? = \u201CWhat did you say?\u201D</li>\n<li>Huh!? = \u201CWhat are you talking about?!\u201D</li>\n<li>Huh. = \u201COh, I see.\u201D</li>\n</ul>\n<p>All of these are clearly different to a native speaker of English, and you\u2019d have no trouble picking out which meaning was intended from speech (and the punctuation here probably helped you know how I intended these to be read). But in the context of an ASR transcript, knowing which meaning was intended would be very difficult, which is why using the audio is so critical. But even with access to the audio, automatic punctuation can still be tricky. Why? There are three main reasons. The first is that people don\u2019t always speak in sentences. If they\u2019re reading a speech they probably will, but if you listen to how people speak in meetings or casual settings, you\u2019ll find that they often don\u2019t speak in tidy ways.</p>\n<p>This can make it difficult to decide how something should be punctuated since there aren\u2019t clear rules for punctuating text that\u2019s derived directly from spoken language. Second, people can disagree on punctuation. Some examples include when and where commas get used (I\u2019m looking at you, <a href="https://thewritelife.com/is-the-oxford-comma-necessary/">Oxford comma</a>), whether two sentences should be separated by a period or a semicolon, and if side thoughts should be put-inside em-dashes-or (inside parentheses). Because of these variations, it can be challenging to get punctuation to seem exactly right to everyone looking at a transcript (or even a written work like this blog post, for example). Finally, deep learning systems for speech recognition typically use small windows of audio to make predictions about what word is being said. This works well at the level of individual sounds, but can be tricky with intonation, which is one of the main things a system might look at to determine punctuation. That\u2019s because intonation patterns can be spread across multiple words within a phrase, meaning any given window might not have all the information it needs to make the best prediction possible.</p>\n<p>One solution that some vendors have used to address this problem is having a second script that runs after the first model that doesn\u2019t seek to punctuate or capitalize the text, but rather to double-check that what the model output is correct. This can serve as a kind of spelling and grammar check after the fact to help make sure that the punctuation looks correct.</p>\n<h2 id="how-to-evaluate-punctuation-and-capitalization-accuracy">How to Evaluate Punctuation and Capitalization Accuracy</h2>\n<p>So how do you evaluate the accuracy of different punctuation and capitalization methods? You can do similar calculations that are used for <a href="https://blog.deepgram.com/what-is-word-error-rate/">word error rate (WER)</a>, a standard way of calculating the accuracy of ASR transcripts. For punctuation, we use the Punctuation Error Rate (PER). When calculating the PER, we care about how punctuation is placed relative to the words (its grammatical accuracy); PER is thus the number of punctuation errors (including misplacements relative to the truth words) divided by the number of truth punctuation tokens; i.e., number of real places that should have punctuation, as seen below.</p>\n<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1661976861/blog/complete-guide-punctuation-capitalization-speech-to-text/per_def.png" alt=""></p>\n<p>The Capitalization Error (CapER) is used for capitalization accuracy, and has its own subtlety. If we were to compare capitalization across all words in a text, we\u2019d have a very skewed metric because most words aren\u2019t capitalized. Rather than comparing the first letter of all words in the truth/predicted sequences, we compare just the aligned words which are capitalized in the truth and/or predicted text.</p>\n<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1661976861/blog/complete-guide-punctuation-capitalization-speech-to-text/caper_example.png" alt=""></p>\n<p>In the example above, we see that there are two capitalization errors in a sentence with only two capitalized words in the truth text.</p>\n<h2 id="deepgrams-punctuation-and-capitalization-for-asr-offerings">Deepgram\u2019s Punctuation and Capitalization for ASR Offerings</h2>\n<p>As we\u2019ve seen, end-to-end deep learning systems like Deepgram that have access to acoustic information provide the best option for punctuating and capitalizing a text based on a spoken audio file. At Deepgram, we offer punctuation for all of our models, in any of the languages that we offer-all for free; capitalization is also included for relevant languages. Both punctuation and capitalization have been optimized for each language and use case model. <a href="https://developers.deepgram.com/documentation/features/punctuate/">Check out our documentation for all of the details about how Deepgram punctuation and capitalization work</a>.</p>\n<h2 id="wrapping-up">Wrapping Up</h2>\n<p>If you\u2019d like to give Deepgram\u2019s speech-to-text solution a try-whether you need punctuation or not-you can <a href="https://console.deepgram.com/signup">sign up for a free trial and get $150 in free credits</a>, or <a href="https://deepgram.com/contact-us/">reach out to a member of our team</a> to discuss how Deepgram can help your business achieve its goals.</p>' };
const frontmatter = { "title": "The Complete Guide to Punctuation & Capitalization in Speech-to-Text", "description": "Punctuation and capitalization make text more readable, but they aren\u2019t a part of every ASR system. In this post, youll learn why they matter.", "date": "2022-08-17T00:00:00.000Z", "cover": "https://res.cloudinary.com/deepgram/image/upload/v1661981431/blog/complete-guide-punctuation-capitalization-speech-to-text/mplete-guide-to-punctuation-capitalization-in-spee.png", "authors": ["chris-doty"], "category": "speech-trends", "tags": ["language", "word-error-rate"], "seo": { "title": "The Complete Guide to Punctuation & Capitalization in Speech-to-Text", "description": "Punctuation and capitalization make text more readable, but they aren\u2019t a part of every ASR system. In this post, youll learn why they matter." }, "og": { "image": "https://res.cloudinary.com/deepgram/image/upload/v1661981431/blog/complete-guide-punctuation-capitalization-speech-to-text/mplete-guide-to-punctuation-capitalization-in-spee.png" }, "shorturls": { "share": "https://dpgr.am/9da2db0", "twitter": "https://dpgr.am/2edede0", "linkedin": "https://dpgr.am/7e36e39", "reddit": "https://dpgr.am/240a42e", "facebook": "https://dpgr.am/db5fb50" }, "astro": { "headings": [{ "depth": 2, "slug": "what-is-punctuation", "text": "What is Punctuation?" }, { "depth": 3, "slug": "what-is-the-purpose-of-punctuation", "text": "What is the Purpose of Punctuation?" }, { "depth": 2, "slug": "what-is-capitalization", "text": "What is Capitalization?" }, { "depth": 2, "slug": "why-punctuation-and-capitalization-matter-for-speech-recognition", "text": "Why Punctuation and Capitalization Matter for Speech Recognition" }, { "depth": 2, "slug": "how-punctuation-in-automatic-speech-recognition-works", "text": "How Punctuation in Automatic Speech Recognition Works" }, { "depth": 2, "slug": "how-to-evaluate-punctuation-and-capitalization-accuracy", "text": "How to Evaluate Punctuation and Capitalization Accuracy" }, { "depth": 2, "slug": "deepgrams-punctuation-and-capitalization-for-asr-offerings", "text": "Deepgram\u2019s Punctuation and Capitalization for ASR Offerings" }, { "depth": 2, "slug": "wrapping-up", "text": "Wrapping Up" }], "source": `Do you ever get frustrated when you're trying to dictate a text message or email and your phone keeps capitalizing the wrong words? Or adding extra periods at the end of your sentences? You're not alone! Automatic speech recognition for punctuation and capitalization can be tricky. In this blog post, we'll explore what punctuation and capitalization mean, how they're used, and some of the problems they present for speech-to-text solutions. We'll also explain what your best option for a speech recognition solution is if you need a transcript that's punctuated and capitalized correctly. To get started, let's take a look at what punctuation and capitalization are, how they're used, and how they different cross-linguistically.

## What is Punctuation?

Punctuation characters are symbols that are used to indicate the structure and organization of a text. In the West, [the tradition of punctuation dates from the 3rd Century BCE](https://www.bbc.com/culture/article/20150902-the-mysterious-origins-of-punctuation). Before that, texts in languages like Greek and Latin were written without any punctuation or capitalization at all-and even without spaces between words! Today, punctuation marks are used, among other things, to separate words and phrases and indicate when a sentence is ending. In English, the most common punctuation characters are the period ( . ), comma ( , ) question mark ( ? ), and exclamation point ( ! ), but there are many others, including the semicolon ( ; ), colon ( : ), dash ( - ), parentheses ( (...) ), and quotation marks ( "..." ). But other languages have different punctuation standards. In German, for example, quotation marks often appear as ( \xAB...\xBB ). Japanese punctuation, although somewhat inspired by how Western languages punctuate, uses its own symbols, using ( \u3002) instead of a period/full stop, and ( \u3001) for commas. Other languages have entirely separate traditions of punctuation, marking things that we wouldn't in English or other Western languages. If we look at Tibetan, for example, we find characters that mark the break between syllables ( \u0F0B ), symbols for the end of a section of text ( \u0F0D ) and a larger topic ( \u0F0E ), and a character that marks the start of a text ( \u0F04 ).

### What is the Purpose of Punctuation?

The main function of punctuation is to make a text more understandable. As mentioned above, prior to punctuation, words were written in a singlestreamofcharacterslikethis, which made texts challenging to read. Language is, first and foremost, a spoken or signed system of communication, and not a written one. That means we often need some help to make sure that we can understand what's being communicated in writing, and punctuation is one of the tools that we use to do that (along with other things like spelling according to the relevant standard). For example, if someone's speaking out loud, you're unlikely to confuse "Let's eat, Grandma!" and "Let's eat Grandma!"

But in writing, it's the comma that makes the difference. Punctuation helps by providing some sense of the intonation and pacing that would occur if a sentence was spoken out loud. For example, commas are used to mark brief pauses between words or phrases, while periods are used to mark the end of a sentence, what linguistically we might call an intonational unit. In both cases, these pauses have specific acoustic features that indicate what a speaker is doing when spoken out loud. Likewise, question marks and exclamation points can be used to show excitement or emphasize a point, again reflecting how a sentence would be pronounced and serve to influence the way that a sentence is read. By including punctuation marks like this in writing, the written word is brought closer to the spoken word.

Organization of a text is another purpose of punctuation. For example, semicolons and colons are often used to list items, while dashes can be used to separate parts of a sentence and quotation marks are used to set off dialogue or direct quotes from other sources. These features might not exactly match certain pauses or intonation in the same way that a question mark does, but they still serve to help make a text more understandable. For example, English has a particular intonation for lists-if I say "I need three things: milk, bread, and eggs" there's a pause at the colon, then rising intonation on "milk", then a pause, then rising intonation on "bread", then a pause, and then falling intonation on "eggs". This pattern helps our listeners understand that we're listing things off, but it's spread across several words, and doesn't occur only where the colon does.

## What is Capitalization?

Capitalization is the process of making a letter capital, or upper case. In English, we typically use capital letters to begin sentences and proper nouns, or for emphasis in casual writing. Proper nouns are the specific names of people, places, things, or organizations. For example, "Susan," "New York City," and "Nintendo" are all proper nouns.  Other languages have different standards for capitalization. In German, you capitalize *every* noun, not just proper nouns. And many languages don't have capital letters at all. Arabic, Hebrew, Japanese, Chinese, Hindi-no "capital" option exists in these languages.

Although capitalization isn't found in all languages, it's still important to consider it along with punctuation when thinking about ASR. To some extent, this is because in many Western languages, the two go together-a period marks the end of one sentence, and a capitalized word marks the start of the next. Additionally, these have often been thought of as the same kind of problem and been treated together historically, so it makes sense to think about them together.

## Why Punctuation and Capitalization Matter for Speech Recognition

Typically, ASR systems don't output punctuation or capitalization-the ASR transcripts that you get just consist of lower-case words without any punctuation at all. If you're planning to use your transcripts as the input for machine learning, you might not need to worry about punctuation at all. Typically, these systems are happiest working with unformatted text. However, there are a couple of reasons why you might want your text to be formatted. The first is that, without this formatting, the texts can be hard for humans to read. Just take a look at the snippet below, from [Deepgram's transcription of NASA's first all-female spacewalk](https://deepgram.com/asr-comparison/compare-accuracy/select-alternative/), and you can see how hard it is to figure out what's happening without capitalization and punctuation.

> and jessica and christina we are so proud of you i'm gonna do great today we'll be waiting for you here in a couple of hours when you get home i'm gonna hand you over to stephanie now have a great great eva drew thank you so much and our pleasure working with you this morning and i'm working on getting my ev hat open and i can report is open and stowed

If you want something that's readable by humans, capitalization and punctuation are necessary to make things clearer. You can see the same NASA text below, but with capitalization and punctuation (as well as [diarization](https://blog.deepgram.com/what-is-speaker-diarization/)-breaking up the transcript to isolate different speakers).

> \\[SPEAKER 1:] ...and Jessica and Christina, we are so proud of you. I'm gonna do great today. We'll be waiting for you here in a couple of hours when you get home. I'm gonna hand you over to Stephanie now. Have a great great EVA.
>
> \\[SPEAKER 2:] Drew, thank you so much. And our pleasure working with you this morning, and I'm working on getting my EV hat open and I can report. Is open and stowed.

It's obvious, even at a glance, how much easier it is to read a text like this than it is to read the kind of stream-of-consciousness we see without punctuation and capitalization.  Another use for punctuation in speech-to-text relates to [sentiment analysis](https://blog.deepgram.com/sentiment-analysis-emotion-regulation-difference/). Punctuation marks can be used to divide a text into sections so that you can ask "what's the sentiment in this particular chunk of the transcript?" If you have a transcript from an hour-long call, it's more granular to look at sentiment in small chunks, rather than across the whole call, which punctuation makes easier to do. So how do we get ASR transcripts that have punctuation and capitalization? Let's take a look.

## How Punctuation in Automatic Speech Recognition Works

If you need punctuation in your transcripts, what are your options? ASR providers typically have two ways of getting punctuation into a transcript. The first is a separate punctuation and capitalization model that runs after the text has already been generated by the speech-to-text model. Because punctuation is often a reflection of how something would be said out loud, this method, based only on the text, can create some less-than-useful outputs. This can be shown with a simple example. What is the correct punctuation for the sentence below?

> sam ate dinner

You might have said "a period", which is probably what one of these *post hoc* models would have said. But is this a question or a statement? From the text alone, without any context, it's impossible to determine-it could be a statement or a question. If I played the audio for you, though, you'd immediately understand whether the sentence is a question or a statement based on the speaker's intonation. Determining the correct punctuation in this case is impossible with the words alone; it's much easier if you have access to the audio.

This leads us to the second way to add punctuation to a transcript. If you're using an [end-to-end deep learning system](https://blog.deepgram.com/deep-learning-speech-recognition/) as part of the process to generate your transcript, it's possible to have it output punctuation and capitalization at the same time as the words. A model that creates both text and punctuation can make decisions based on acoustic information, which is often the difference between good and bad punctuation. Let's consider another example. 

<WhitepaperPromo whitepaper="latest"></WhitepaperPromo>

Consider how the word "huh" might be used in speech:

* Huh? = "What did you say?"
* Huh!? = "What are you talking about?!"
* Huh. = "Oh, I see."

All of these are clearly different to a native speaker of English, and you'd have no trouble picking out which meaning was intended from speech (and the punctuation here probably helped you know how I intended these to be read). But in the context of an ASR transcript, knowing which meaning was intended would be very difficult, which is why using the audio is so critical. But even with access to the audio, automatic punctuation can still be tricky. Why? There are three main reasons. The first is that people don't always speak in sentences. If they're reading a speech they probably will, but if you listen to how people speak in meetings or casual settings, you'll find that they often don't speak in tidy ways.

This can make it difficult to decide how something should be punctuated since there aren't clear rules for punctuating text that's derived directly from spoken language. Second, people can disagree on punctuation. Some examples include when and where commas get used (I'm looking at you, [Oxford comma](https://thewritelife.com/is-the-oxford-comma-necessary/)), whether two sentences should be separated by a period or a semicolon, and if side thoughts should be put-inside em-dashes-or (inside parentheses). Because of these variations, it can be challenging to get punctuation to seem exactly right to everyone looking at a transcript (or even a written work like this blog post, for example). Finally, deep learning systems for speech recognition typically use small windows of audio to make predictions about what word is being said. This works well at the level of individual sounds, but can be tricky with intonation, which is one of the main things a system might look at to determine punctuation. That's because intonation patterns can be spread across multiple words within a phrase, meaning any given window might not have all the information it needs to make the best prediction possible.

One solution that some vendors have used to address this problem is having a second script that runs after the first model that doesn't seek to punctuate or capitalize the text, but rather to double-check that what the model output is correct. This can serve as a kind of spelling and grammar check after the fact to help make sure that the punctuation looks correct.

## How to Evaluate Punctuation and Capitalization Accuracy

So how do you evaluate the accuracy of different punctuation and capitalization methods? You can do similar calculations that are used for [word error rate (WER)](https://blog.deepgram.com/what-is-word-error-rate/), a standard way of calculating the accuracy of ASR transcripts. For punctuation, we use the Punctuation Error Rate (PER). When calculating the PER, we care about how punctuation is placed relative to the words (its grammatical accuracy); PER is thus the number of punctuation errors (including misplacements relative to the truth words) divided by the number of truth punctuation tokens; i.e., number of real places that should have punctuation, as seen below. 

![](https://res.cloudinary.com/deepgram/image/upload/v1661976861/blog/complete-guide-punctuation-capitalization-speech-to-text/per_def.png) 

The Capitalization Error (CapER) is used for capitalization accuracy, and has its own subtlety. If we were to compare capitalization across all words in a text, we'd have a very skewed metric because most words aren't capitalized. Rather than comparing the first letter of all words in the truth/predicted sequences, we compare just the aligned words which are capitalized in the truth and/or predicted text. 

![](https://res.cloudinary.com/deepgram/image/upload/v1661976861/blog/complete-guide-punctuation-capitalization-speech-to-text/caper_example.png) 

In the example above, we see that there are two capitalization errors in a sentence with only two capitalized words in the truth text.

## Deepgram's Punctuation and Capitalization for ASR Offerings

As we've seen, end-to-end deep learning systems like Deepgram that have access to acoustic information provide the best option for punctuating and capitalizing a text based on a spoken audio file. At Deepgram, we offer punctuation for all of our models, in any of the languages that we offer-all for free; capitalization is also included for relevant languages. Both punctuation and capitalization have been optimized for each language and use case model. [Check out our documentation for all of the details about how Deepgram punctuation and capitalization work](https://developers.deepgram.com/documentation/features/punctuate/). 

## Wrapping Up

If you'd like to give Deepgram's speech-to-text solution a try-whether you need punctuation or not-you can [sign up for a free trial and get $150 in free credits](https://console.deepgram.com/signup), or [reach out to a member of our team](https://deepgram.com/contact-us/) to discuss how Deepgram can help your business achieve its goals.`, "html": '<p>Do you ever get frustrated when you\u2019re trying to dictate a text message or email and your phone keeps capitalizing the wrong words? Or adding extra periods at the end of your sentences? You\u2019re not alone! Automatic speech recognition for punctuation and capitalization can be tricky. In this blog post, we\u2019ll explore what punctuation and capitalization mean, how they\u2019re used, and some of the problems they present for speech-to-text solutions. We\u2019ll also explain what your best option for a speech recognition solution is if you need a transcript that\u2019s punctuated and capitalized correctly. To get started, let\u2019s take a look at what punctuation and capitalization are, how they\u2019re used, and how they different cross-linguistically.</p>\n<h2 id="what-is-punctuation">What is Punctuation?</h2>\n<p>Punctuation characters are symbols that are used to indicate the structure and organization of a text. In the West, <a href="https://www.bbc.com/culture/article/20150902-the-mysterious-origins-of-punctuation">the tradition of punctuation dates from the 3rd Century BCE</a>. Before that, texts in languages like Greek and Latin were written without any punctuation or capitalization at all-and even without spaces between words! Today, punctuation marks are used, among other things, to separate words and phrases and indicate when a sentence is ending. In English, the most common punctuation characters are the period ( . ), comma ( , ) question mark ( ? ), and exclamation point ( ! ), but there are many others, including the semicolon ( ; ), colon ( : ), dash ( - ), parentheses ( (\u2026) ), and quotation marks ( \u201D\u2026\u201D ). But other languages have different punctuation standards. In German, for example, quotation marks often appear as ( \xAB\u2026\xBB ). Japanese punctuation, although somewhat inspired by how Western languages punctuate, uses its own symbols, using ( \u3002) instead of a period/full stop, and ( \u3001) for commas. Other languages have entirely separate traditions of punctuation, marking things that we wouldn\u2019t in English or other Western languages. If we look at Tibetan, for example, we find characters that mark the break between syllables ( \u0F0B ), symbols for the end of a section of text ( \u0F0D ) and a larger topic ( \u0F0E ), and a character that marks the start of a text ( \u0F04 ).</p>\n<h3 id="what-is-the-purpose-of-punctuation">What is the Purpose of Punctuation?</h3>\n<p>The main function of punctuation is to make a text more understandable. As mentioned above, prior to punctuation, words were written in a singlestreamofcharacterslikethis, which made texts challenging to read. Language is, first and foremost, a spoken or signed system of communication, and not a written one. That means we often need some help to make sure that we can understand what\u2019s being communicated in writing, and punctuation is one of the tools that we use to do that (along with other things like spelling according to the relevant standard). For example, if someone\u2019s speaking out loud, you\u2019re unlikely to confuse \u201CLet\u2019s eat, Grandma!\u201D and \u201CLet\u2019s eat Grandma!\u201D</p>\n<p>But in writing, it\u2019s the comma that makes the difference. Punctuation helps by providing some sense of the intonation and pacing that would occur if a sentence was spoken out loud. For example, commas are used to mark brief pauses between words or phrases, while periods are used to mark the end of a sentence, what linguistically we might call an intonational unit. In both cases, these pauses have specific acoustic features that indicate what a speaker is doing when spoken out loud. Likewise, question marks and exclamation points can be used to show excitement or emphasize a point, again reflecting how a sentence would be pronounced and serve to influence the way that a sentence is read. By including punctuation marks like this in writing, the written word is brought closer to the spoken word.</p>\n<p>Organization of a text is another purpose of punctuation. For example, semicolons and colons are often used to list items, while dashes can be used to separate parts of a sentence and quotation marks are used to set off dialogue or direct quotes from other sources. These features might not exactly match certain pauses or intonation in the same way that a question mark does, but they still serve to help make a text more understandable. For example, English has a particular intonation for lists-if I say \u201CI need three things: milk, bread, and eggs\u201D there\u2019s a pause at the colon, then rising intonation on \u201Cmilk\u201D, then a pause, then rising intonation on \u201Cbread\u201D, then a pause, and then falling intonation on \u201Ceggs\u201D. This pattern helps our listeners understand that we\u2019re listing things off, but it\u2019s spread across several words, and doesn\u2019t occur only where the colon does.</p>\n<h2 id="what-is-capitalization">What is Capitalization?</h2>\n<p>Capitalization is the process of making a letter capital, or upper case. In English, we typically use capital letters to begin sentences and proper nouns, or for emphasis in casual writing. Proper nouns are the specific names of people, places, things, or organizations. For example, \u201CSusan,\u201D \u201CNew York City,\u201D and \u201CNintendo\u201D are all proper nouns.  Other languages have different standards for capitalization. In German, you capitalize <em>every</em> noun, not just proper nouns. And many languages don\u2019t have capital letters at all. Arabic, Hebrew, Japanese, Chinese, Hindi-no \u201Ccapital\u201D option exists in these languages.</p>\n<p>Although capitalization isn\u2019t found in all languages, it\u2019s still important to consider it along with punctuation when thinking about ASR. To some extent, this is because in many Western languages, the two go together-a period marks the end of one sentence, and a capitalized word marks the start of the next. Additionally, these have often been thought of as the same kind of problem and been treated together historically, so it makes sense to think about them together.</p>\n<h2 id="why-punctuation-and-capitalization-matter-for-speech-recognition">Why Punctuation and Capitalization Matter for Speech Recognition</h2>\n<p>Typically, ASR systems don\u2019t output punctuation or capitalization-the ASR transcripts that you get just consist of lower-case words without any punctuation at all. If you\u2019re planning to use your transcripts as the input for machine learning, you might not need to worry about punctuation at all. Typically, these systems are happiest working with unformatted text. However, there are a couple of reasons why you might want your text to be formatted. The first is that, without this formatting, the texts can be hard for humans to read. Just take a look at the snippet below, from <a href="https://deepgram.com/asr-comparison/compare-accuracy/select-alternative/">Deepgram\u2019s transcription of NASA\u2019s first all-female spacewalk</a>, and you can see how hard it is to figure out what\u2019s happening without capitalization and punctuation.</p>\n<blockquote>\n<p>and jessica and christina we are so proud of you i\u2019m gonna do great today we\u2019ll be waiting for you here in a couple of hours when you get home i\u2019m gonna hand you over to stephanie now have a great great eva drew thank you so much and our pleasure working with you this morning and i\u2019m working on getting my ev hat open and i can report is open and stowed</p>\n</blockquote>\n<p>If you want something that\u2019s readable by humans, capitalization and punctuation are necessary to make things clearer. You can see the same NASA text below, but with capitalization and punctuation (as well as <a href="https://blog.deepgram.com/what-is-speaker-diarization/">diarization</a>-breaking up the transcript to isolate different speakers).</p>\n<blockquote>\n<p>[SPEAKER 1:] \u2026and Jessica and Christina, we are so proud of you. I\u2019m gonna do great today. We\u2019ll be waiting for you here in a couple of hours when you get home. I\u2019m gonna hand you over to Stephanie now. Have a great great EVA.</p>\n<p>[SPEAKER 2:] Drew, thank you so much. And our pleasure working with you this morning, and I\u2019m working on getting my EV hat open and I can report. Is open and stowed.</p>\n</blockquote>\n<p>It\u2019s obvious, even at a glance, how much easier it is to read a text like this than it is to read the kind of stream-of-consciousness we see without punctuation and capitalization.  Another use for punctuation in speech-to-text relates to <a href="https://blog.deepgram.com/sentiment-analysis-emotion-regulation-difference/">sentiment analysis</a>. Punctuation marks can be used to divide a text into sections so that you can ask \u201Cwhat\u2019s the sentiment in this particular chunk of the transcript?\u201D If you have a transcript from an hour-long call, it\u2019s more granular to look at sentiment in small chunks, rather than across the whole call, which punctuation makes easier to do. So how do we get ASR transcripts that have punctuation and capitalization? Let\u2019s take a look.</p>\n<h2 id="how-punctuation-in-automatic-speech-recognition-works">How Punctuation in Automatic Speech Recognition Works</h2>\n<p>If you need punctuation in your transcripts, what are your options? ASR providers typically have two ways of getting punctuation into a transcript. The first is a separate punctuation and capitalization model that runs after the text has already been generated by the speech-to-text model. Because punctuation is often a reflection of how something would be said out loud, this method, based only on the text, can create some less-than-useful outputs. This can be shown with a simple example. What is the correct punctuation for the sentence below?</p>\n<blockquote>\n<p>sam ate dinner</p>\n</blockquote>\n<p>You might have said \u201Ca period\u201D, which is probably what one of these <em>post hoc</em> models would have said. But is this a question or a statement? From the text alone, without any context, it\u2019s impossible to determine-it could be a statement or a question. If I played the audio for you, though, you\u2019d immediately understand whether the sentence is a question or a statement based on the speaker\u2019s intonation. Determining the correct punctuation in this case is impossible with the words alone; it\u2019s much easier if you have access to the audio.</p>\n<p>This leads us to the second way to add punctuation to a transcript. If you\u2019re using an <a href="https://blog.deepgram.com/deep-learning-speech-recognition/">end-to-end deep learning system</a> as part of the process to generate your transcript, it\u2019s possible to have it output punctuation and capitalization at the same time as the words. A model that creates both text and punctuation can make decisions based on acoustic information, which is often the difference between good and bad punctuation. Let\u2019s consider another example.</p>\n<WhitepaperPromo whitepaper="latest" />\n<p>Consider how the word \u201Chuh\u201D might be used in speech:</p>\n<ul>\n<li>Huh? = \u201CWhat did you say?\u201D</li>\n<li>Huh!? = \u201CWhat are you talking about?!\u201D</li>\n<li>Huh. = \u201COh, I see.\u201D</li>\n</ul>\n<p>All of these are clearly different to a native speaker of English, and you\u2019d have no trouble picking out which meaning was intended from speech (and the punctuation here probably helped you know how I intended these to be read). But in the context of an ASR transcript, knowing which meaning was intended would be very difficult, which is why using the audio is so critical. But even with access to the audio, automatic punctuation can still be tricky. Why? There are three main reasons. The first is that people don\u2019t always speak in sentences. If they\u2019re reading a speech they probably will, but if you listen to how people speak in meetings or casual settings, you\u2019ll find that they often don\u2019t speak in tidy ways.</p>\n<p>This can make it difficult to decide how something should be punctuated since there aren\u2019t clear rules for punctuating text that\u2019s derived directly from spoken language. Second, people can disagree on punctuation. Some examples include when and where commas get used (I\u2019m looking at you, <a href="https://thewritelife.com/is-the-oxford-comma-necessary/">Oxford comma</a>), whether two sentences should be separated by a period or a semicolon, and if side thoughts should be put-inside em-dashes-or (inside parentheses). Because of these variations, it can be challenging to get punctuation to seem exactly right to everyone looking at a transcript (or even a written work like this blog post, for example). Finally, deep learning systems for speech recognition typically use small windows of audio to make predictions about what word is being said. This works well at the level of individual sounds, but can be tricky with intonation, which is one of the main things a system might look at to determine punctuation. That\u2019s because intonation patterns can be spread across multiple words within a phrase, meaning any given window might not have all the information it needs to make the best prediction possible.</p>\n<p>One solution that some vendors have used to address this problem is having a second script that runs after the first model that doesn\u2019t seek to punctuate or capitalize the text, but rather to double-check that what the model output is correct. This can serve as a kind of spelling and grammar check after the fact to help make sure that the punctuation looks correct.</p>\n<h2 id="how-to-evaluate-punctuation-and-capitalization-accuracy">How to Evaluate Punctuation and Capitalization Accuracy</h2>\n<p>So how do you evaluate the accuracy of different punctuation and capitalization methods? You can do similar calculations that are used for <a href="https://blog.deepgram.com/what-is-word-error-rate/">word error rate (WER)</a>, a standard way of calculating the accuracy of ASR transcripts. For punctuation, we use the Punctuation Error Rate (PER). When calculating the PER, we care about how punctuation is placed relative to the words (its grammatical accuracy); PER is thus the number of punctuation errors (including misplacements relative to the truth words) divided by the number of truth punctuation tokens; i.e., number of real places that should have punctuation, as seen below.</p>\n<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1661976861/blog/complete-guide-punctuation-capitalization-speech-to-text/per_def.png" alt=""></p>\n<p>The Capitalization Error (CapER) is used for capitalization accuracy, and has its own subtlety. If we were to compare capitalization across all words in a text, we\u2019d have a very skewed metric because most words aren\u2019t capitalized. Rather than comparing the first letter of all words in the truth/predicted sequences, we compare just the aligned words which are capitalized in the truth and/or predicted text.</p>\n<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1661976861/blog/complete-guide-punctuation-capitalization-speech-to-text/caper_example.png" alt=""></p>\n<p>In the example above, we see that there are two capitalization errors in a sentence with only two capitalized words in the truth text.</p>\n<h2 id="deepgrams-punctuation-and-capitalization-for-asr-offerings">Deepgram\u2019s Punctuation and Capitalization for ASR Offerings</h2>\n<p>As we\u2019ve seen, end-to-end deep learning systems like Deepgram that have access to acoustic information provide the best option for punctuating and capitalizing a text based on a spoken audio file. At Deepgram, we offer punctuation for all of our models, in any of the languages that we offer-all for free; capitalization is also included for relevant languages. Both punctuation and capitalization have been optimized for each language and use case model. <a href="https://developers.deepgram.com/documentation/features/punctuate/">Check out our documentation for all of the details about how Deepgram punctuation and capitalization work</a>.</p>\n<h2 id="wrapping-up">Wrapping Up</h2>\n<p>If you\u2019d like to give Deepgram\u2019s speech-to-text solution a try-whether you need punctuation or not-you can <a href="https://console.deepgram.com/signup">sign up for a free trial and get $150 in free credits</a>, or <a href="https://deepgram.com/contact-us/">reach out to a member of our team</a> to discuss how Deepgram can help your business achieve its goals.</p>' }, "file": "/Users/sandrarodgers/web-next/blog/src/content/blog/posts/complete-guide-punctuation-capitalization-speech-to-text/index.md" };
function rawContent() {
  return `Do you ever get frustrated when you're trying to dictate a text message or email and your phone keeps capitalizing the wrong words? Or adding extra periods at the end of your sentences? You're not alone! Automatic speech recognition for punctuation and capitalization can be tricky. In this blog post, we'll explore what punctuation and capitalization mean, how they're used, and some of the problems they present for speech-to-text solutions. We'll also explain what your best option for a speech recognition solution is if you need a transcript that's punctuated and capitalized correctly. To get started, let's take a look at what punctuation and capitalization are, how they're used, and how they different cross-linguistically.

## What is Punctuation?

Punctuation characters are symbols that are used to indicate the structure and organization of a text. In the West, [the tradition of punctuation dates from the 3rd Century BCE](https://www.bbc.com/culture/article/20150902-the-mysterious-origins-of-punctuation). Before that, texts in languages like Greek and Latin were written without any punctuation or capitalization at all-and even without spaces between words! Today, punctuation marks are used, among other things, to separate words and phrases and indicate when a sentence is ending. In English, the most common punctuation characters are the period ( . ), comma ( , ) question mark ( ? ), and exclamation point ( ! ), but there are many others, including the semicolon ( ; ), colon ( : ), dash ( - ), parentheses ( (...) ), and quotation marks ( "..." ). But other languages have different punctuation standards. In German, for example, quotation marks often appear as ( \xAB...\xBB ). Japanese punctuation, although somewhat inspired by how Western languages punctuate, uses its own symbols, using ( \u3002) instead of a period/full stop, and ( \u3001) for commas. Other languages have entirely separate traditions of punctuation, marking things that we wouldn't in English or other Western languages. If we look at Tibetan, for example, we find characters that mark the break between syllables ( \u0F0B ), symbols for the end of a section of text ( \u0F0D ) and a larger topic ( \u0F0E ), and a character that marks the start of a text ( \u0F04 ).

### What is the Purpose of Punctuation?

The main function of punctuation is to make a text more understandable. As mentioned above, prior to punctuation, words were written in a singlestreamofcharacterslikethis, which made texts challenging to read. Language is, first and foremost, a spoken or signed system of communication, and not a written one. That means we often need some help to make sure that we can understand what's being communicated in writing, and punctuation is one of the tools that we use to do that (along with other things like spelling according to the relevant standard). For example, if someone's speaking out loud, you're unlikely to confuse "Let's eat, Grandma!" and "Let's eat Grandma!"

But in writing, it's the comma that makes the difference. Punctuation helps by providing some sense of the intonation and pacing that would occur if a sentence was spoken out loud. For example, commas are used to mark brief pauses between words or phrases, while periods are used to mark the end of a sentence, what linguistically we might call an intonational unit. In both cases, these pauses have specific acoustic features that indicate what a speaker is doing when spoken out loud. Likewise, question marks and exclamation points can be used to show excitement or emphasize a point, again reflecting how a sentence would be pronounced and serve to influence the way that a sentence is read. By including punctuation marks like this in writing, the written word is brought closer to the spoken word.

Organization of a text is another purpose of punctuation. For example, semicolons and colons are often used to list items, while dashes can be used to separate parts of a sentence and quotation marks are used to set off dialogue or direct quotes from other sources. These features might not exactly match certain pauses or intonation in the same way that a question mark does, but they still serve to help make a text more understandable. For example, English has a particular intonation for lists-if I say "I need three things: milk, bread, and eggs" there's a pause at the colon, then rising intonation on "milk", then a pause, then rising intonation on "bread", then a pause, and then falling intonation on "eggs". This pattern helps our listeners understand that we're listing things off, but it's spread across several words, and doesn't occur only where the colon does.

## What is Capitalization?

Capitalization is the process of making a letter capital, or upper case. In English, we typically use capital letters to begin sentences and proper nouns, or for emphasis in casual writing. Proper nouns are the specific names of people, places, things, or organizations. For example, "Susan," "New York City," and "Nintendo" are all proper nouns.  Other languages have different standards for capitalization. In German, you capitalize *every* noun, not just proper nouns. And many languages don't have capital letters at all. Arabic, Hebrew, Japanese, Chinese, Hindi-no "capital" option exists in these languages.

Although capitalization isn't found in all languages, it's still important to consider it along with punctuation when thinking about ASR. To some extent, this is because in many Western languages, the two go together-a period marks the end of one sentence, and a capitalized word marks the start of the next. Additionally, these have often been thought of as the same kind of problem and been treated together historically, so it makes sense to think about them together.

## Why Punctuation and Capitalization Matter for Speech Recognition

Typically, ASR systems don't output punctuation or capitalization-the ASR transcripts that you get just consist of lower-case words without any punctuation at all. If you're planning to use your transcripts as the input for machine learning, you might not need to worry about punctuation at all. Typically, these systems are happiest working with unformatted text. However, there are a couple of reasons why you might want your text to be formatted. The first is that, without this formatting, the texts can be hard for humans to read. Just take a look at the snippet below, from [Deepgram's transcription of NASA's first all-female spacewalk](https://deepgram.com/asr-comparison/compare-accuracy/select-alternative/), and you can see how hard it is to figure out what's happening without capitalization and punctuation.

> and jessica and christina we are so proud of you i'm gonna do great today we'll be waiting for you here in a couple of hours when you get home i'm gonna hand you over to stephanie now have a great great eva drew thank you so much and our pleasure working with you this morning and i'm working on getting my ev hat open and i can report is open and stowed

If you want something that's readable by humans, capitalization and punctuation are necessary to make things clearer. You can see the same NASA text below, but with capitalization and punctuation (as well as [diarization](https://blog.deepgram.com/what-is-speaker-diarization/)-breaking up the transcript to isolate different speakers).

> \\[SPEAKER 1:] ...and Jessica and Christina, we are so proud of you. I'm gonna do great today. We'll be waiting for you here in a couple of hours when you get home. I'm gonna hand you over to Stephanie now. Have a great great EVA.
>
> \\[SPEAKER 2:] Drew, thank you so much. And our pleasure working with you this morning, and I'm working on getting my EV hat open and I can report. Is open and stowed.

It's obvious, even at a glance, how much easier it is to read a text like this than it is to read the kind of stream-of-consciousness we see without punctuation and capitalization.  Another use for punctuation in speech-to-text relates to [sentiment analysis](https://blog.deepgram.com/sentiment-analysis-emotion-regulation-difference/). Punctuation marks can be used to divide a text into sections so that you can ask "what's the sentiment in this particular chunk of the transcript?" If you have a transcript from an hour-long call, it's more granular to look at sentiment in small chunks, rather than across the whole call, which punctuation makes easier to do. So how do we get ASR transcripts that have punctuation and capitalization? Let's take a look.

## How Punctuation in Automatic Speech Recognition Works

If you need punctuation in your transcripts, what are your options? ASR providers typically have two ways of getting punctuation into a transcript. The first is a separate punctuation and capitalization model that runs after the text has already been generated by the speech-to-text model. Because punctuation is often a reflection of how something would be said out loud, this method, based only on the text, can create some less-than-useful outputs. This can be shown with a simple example. What is the correct punctuation for the sentence below?

> sam ate dinner

You might have said "a period", which is probably what one of these *post hoc* models would have said. But is this a question or a statement? From the text alone, without any context, it's impossible to determine-it could be a statement or a question. If I played the audio for you, though, you'd immediately understand whether the sentence is a question or a statement based on the speaker's intonation. Determining the correct punctuation in this case is impossible with the words alone; it's much easier if you have access to the audio.

This leads us to the second way to add punctuation to a transcript. If you're using an [end-to-end deep learning system](https://blog.deepgram.com/deep-learning-speech-recognition/) as part of the process to generate your transcript, it's possible to have it output punctuation and capitalization at the same time as the words. A model that creates both text and punctuation can make decisions based on acoustic information, which is often the difference between good and bad punctuation. Let's consider another example. 

<WhitepaperPromo whitepaper="latest"></WhitepaperPromo>

Consider how the word "huh" might be used in speech:

* Huh? = "What did you say?"
* Huh!? = "What are you talking about?!"
* Huh. = "Oh, I see."

All of these are clearly different to a native speaker of English, and you'd have no trouble picking out which meaning was intended from speech (and the punctuation here probably helped you know how I intended these to be read). But in the context of an ASR transcript, knowing which meaning was intended would be very difficult, which is why using the audio is so critical. But even with access to the audio, automatic punctuation can still be tricky. Why? There are three main reasons. The first is that people don't always speak in sentences. If they're reading a speech they probably will, but if you listen to how people speak in meetings or casual settings, you'll find that they often don't speak in tidy ways.

This can make it difficult to decide how something should be punctuated since there aren't clear rules for punctuating text that's derived directly from spoken language. Second, people can disagree on punctuation. Some examples include when and where commas get used (I'm looking at you, [Oxford comma](https://thewritelife.com/is-the-oxford-comma-necessary/)), whether two sentences should be separated by a period or a semicolon, and if side thoughts should be put-inside em-dashes-or (inside parentheses). Because of these variations, it can be challenging to get punctuation to seem exactly right to everyone looking at a transcript (or even a written work like this blog post, for example). Finally, deep learning systems for speech recognition typically use small windows of audio to make predictions about what word is being said. This works well at the level of individual sounds, but can be tricky with intonation, which is one of the main things a system might look at to determine punctuation. That's because intonation patterns can be spread across multiple words within a phrase, meaning any given window might not have all the information it needs to make the best prediction possible.

One solution that some vendors have used to address this problem is having a second script that runs after the first model that doesn't seek to punctuate or capitalize the text, but rather to double-check that what the model output is correct. This can serve as a kind of spelling and grammar check after the fact to help make sure that the punctuation looks correct.

## How to Evaluate Punctuation and Capitalization Accuracy

So how do you evaluate the accuracy of different punctuation and capitalization methods? You can do similar calculations that are used for [word error rate (WER)](https://blog.deepgram.com/what-is-word-error-rate/), a standard way of calculating the accuracy of ASR transcripts. For punctuation, we use the Punctuation Error Rate (PER). When calculating the PER, we care about how punctuation is placed relative to the words (its grammatical accuracy); PER is thus the number of punctuation errors (including misplacements relative to the truth words) divided by the number of truth punctuation tokens; i.e., number of real places that should have punctuation, as seen below. 

![](https://res.cloudinary.com/deepgram/image/upload/v1661976861/blog/complete-guide-punctuation-capitalization-speech-to-text/per_def.png) 

The Capitalization Error (CapER) is used for capitalization accuracy, and has its own subtlety. If we were to compare capitalization across all words in a text, we'd have a very skewed metric because most words aren't capitalized. Rather than comparing the first letter of all words in the truth/predicted sequences, we compare just the aligned words which are capitalized in the truth and/or predicted text. 

![](https://res.cloudinary.com/deepgram/image/upload/v1661976861/blog/complete-guide-punctuation-capitalization-speech-to-text/caper_example.png) 

In the example above, we see that there are two capitalization errors in a sentence with only two capitalized words in the truth text.

## Deepgram's Punctuation and Capitalization for ASR Offerings

As we've seen, end-to-end deep learning systems like Deepgram that have access to acoustic information provide the best option for punctuating and capitalizing a text based on a spoken audio file. At Deepgram, we offer punctuation for all of our models, in any of the languages that we offer-all for free; capitalization is also included for relevant languages. Both punctuation and capitalization have been optimized for each language and use case model. [Check out our documentation for all of the details about how Deepgram punctuation and capitalization work](https://developers.deepgram.com/documentation/features/punctuate/). 

## Wrapping Up

If you'd like to give Deepgram's speech-to-text solution a try-whether you need punctuation or not-you can [sign up for a free trial and get $150 in free credits](https://console.deepgram.com/signup), or [reach out to a member of our team](https://deepgram.com/contact-us/) to discuss how Deepgram can help your business achieve its goals.`;
}
function compiledContent() {
  return '<p>Do you ever get frustrated when you\u2019re trying to dictate a text message or email and your phone keeps capitalizing the wrong words? Or adding extra periods at the end of your sentences? You\u2019re not alone! Automatic speech recognition for punctuation and capitalization can be tricky. In this blog post, we\u2019ll explore what punctuation and capitalization mean, how they\u2019re used, and some of the problems they present for speech-to-text solutions. We\u2019ll also explain what your best option for a speech recognition solution is if you need a transcript that\u2019s punctuated and capitalized correctly. To get started, let\u2019s take a look at what punctuation and capitalization are, how they\u2019re used, and how they different cross-linguistically.</p>\n<h2 id="what-is-punctuation">What is Punctuation?</h2>\n<p>Punctuation characters are symbols that are used to indicate the structure and organization of a text. In the West, <a href="https://www.bbc.com/culture/article/20150902-the-mysterious-origins-of-punctuation">the tradition of punctuation dates from the 3rd Century BCE</a>. Before that, texts in languages like Greek and Latin were written without any punctuation or capitalization at all-and even without spaces between words! Today, punctuation marks are used, among other things, to separate words and phrases and indicate when a sentence is ending. In English, the most common punctuation characters are the period ( . ), comma ( , ) question mark ( ? ), and exclamation point ( ! ), but there are many others, including the semicolon ( ; ), colon ( : ), dash ( - ), parentheses ( (\u2026) ), and quotation marks ( \u201D\u2026\u201D ). But other languages have different punctuation standards. In German, for example, quotation marks often appear as ( \xAB\u2026\xBB ). Japanese punctuation, although somewhat inspired by how Western languages punctuate, uses its own symbols, using ( \u3002) instead of a period/full stop, and ( \u3001) for commas. Other languages have entirely separate traditions of punctuation, marking things that we wouldn\u2019t in English or other Western languages. If we look at Tibetan, for example, we find characters that mark the break between syllables ( \u0F0B ), symbols for the end of a section of text ( \u0F0D ) and a larger topic ( \u0F0E ), and a character that marks the start of a text ( \u0F04 ).</p>\n<h3 id="what-is-the-purpose-of-punctuation">What is the Purpose of Punctuation?</h3>\n<p>The main function of punctuation is to make a text more understandable. As mentioned above, prior to punctuation, words were written in a singlestreamofcharacterslikethis, which made texts challenging to read. Language is, first and foremost, a spoken or signed system of communication, and not a written one. That means we often need some help to make sure that we can understand what\u2019s being communicated in writing, and punctuation is one of the tools that we use to do that (along with other things like spelling according to the relevant standard). For example, if someone\u2019s speaking out loud, you\u2019re unlikely to confuse \u201CLet\u2019s eat, Grandma!\u201D and \u201CLet\u2019s eat Grandma!\u201D</p>\n<p>But in writing, it\u2019s the comma that makes the difference. Punctuation helps by providing some sense of the intonation and pacing that would occur if a sentence was spoken out loud. For example, commas are used to mark brief pauses between words or phrases, while periods are used to mark the end of a sentence, what linguistically we might call an intonational unit. In both cases, these pauses have specific acoustic features that indicate what a speaker is doing when spoken out loud. Likewise, question marks and exclamation points can be used to show excitement or emphasize a point, again reflecting how a sentence would be pronounced and serve to influence the way that a sentence is read. By including punctuation marks like this in writing, the written word is brought closer to the spoken word.</p>\n<p>Organization of a text is another purpose of punctuation. For example, semicolons and colons are often used to list items, while dashes can be used to separate parts of a sentence and quotation marks are used to set off dialogue or direct quotes from other sources. These features might not exactly match certain pauses or intonation in the same way that a question mark does, but they still serve to help make a text more understandable. For example, English has a particular intonation for lists-if I say \u201CI need three things: milk, bread, and eggs\u201D there\u2019s a pause at the colon, then rising intonation on \u201Cmilk\u201D, then a pause, then rising intonation on \u201Cbread\u201D, then a pause, and then falling intonation on \u201Ceggs\u201D. This pattern helps our listeners understand that we\u2019re listing things off, but it\u2019s spread across several words, and doesn\u2019t occur only where the colon does.</p>\n<h2 id="what-is-capitalization">What is Capitalization?</h2>\n<p>Capitalization is the process of making a letter capital, or upper case. In English, we typically use capital letters to begin sentences and proper nouns, or for emphasis in casual writing. Proper nouns are the specific names of people, places, things, or organizations. For example, \u201CSusan,\u201D \u201CNew York City,\u201D and \u201CNintendo\u201D are all proper nouns.  Other languages have different standards for capitalization. In German, you capitalize <em>every</em> noun, not just proper nouns. And many languages don\u2019t have capital letters at all. Arabic, Hebrew, Japanese, Chinese, Hindi-no \u201Ccapital\u201D option exists in these languages.</p>\n<p>Although capitalization isn\u2019t found in all languages, it\u2019s still important to consider it along with punctuation when thinking about ASR. To some extent, this is because in many Western languages, the two go together-a period marks the end of one sentence, and a capitalized word marks the start of the next. Additionally, these have often been thought of as the same kind of problem and been treated together historically, so it makes sense to think about them together.</p>\n<h2 id="why-punctuation-and-capitalization-matter-for-speech-recognition">Why Punctuation and Capitalization Matter for Speech Recognition</h2>\n<p>Typically, ASR systems don\u2019t output punctuation or capitalization-the ASR transcripts that you get just consist of lower-case words without any punctuation at all. If you\u2019re planning to use your transcripts as the input for machine learning, you might not need to worry about punctuation at all. Typically, these systems are happiest working with unformatted text. However, there are a couple of reasons why you might want your text to be formatted. The first is that, without this formatting, the texts can be hard for humans to read. Just take a look at the snippet below, from <a href="https://deepgram.com/asr-comparison/compare-accuracy/select-alternative/">Deepgram\u2019s transcription of NASA\u2019s first all-female spacewalk</a>, and you can see how hard it is to figure out what\u2019s happening without capitalization and punctuation.</p>\n<blockquote>\n<p>and jessica and christina we are so proud of you i\u2019m gonna do great today we\u2019ll be waiting for you here in a couple of hours when you get home i\u2019m gonna hand you over to stephanie now have a great great eva drew thank you so much and our pleasure working with you this morning and i\u2019m working on getting my ev hat open and i can report is open and stowed</p>\n</blockquote>\n<p>If you want something that\u2019s readable by humans, capitalization and punctuation are necessary to make things clearer. You can see the same NASA text below, but with capitalization and punctuation (as well as <a href="https://blog.deepgram.com/what-is-speaker-diarization/">diarization</a>-breaking up the transcript to isolate different speakers).</p>\n<blockquote>\n<p>[SPEAKER 1:] \u2026and Jessica and Christina, we are so proud of you. I\u2019m gonna do great today. We\u2019ll be waiting for you here in a couple of hours when you get home. I\u2019m gonna hand you over to Stephanie now. Have a great great EVA.</p>\n<p>[SPEAKER 2:] Drew, thank you so much. And our pleasure working with you this morning, and I\u2019m working on getting my EV hat open and I can report. Is open and stowed.</p>\n</blockquote>\n<p>It\u2019s obvious, even at a glance, how much easier it is to read a text like this than it is to read the kind of stream-of-consciousness we see without punctuation and capitalization.  Another use for punctuation in speech-to-text relates to <a href="https://blog.deepgram.com/sentiment-analysis-emotion-regulation-difference/">sentiment analysis</a>. Punctuation marks can be used to divide a text into sections so that you can ask \u201Cwhat\u2019s the sentiment in this particular chunk of the transcript?\u201D If you have a transcript from an hour-long call, it\u2019s more granular to look at sentiment in small chunks, rather than across the whole call, which punctuation makes easier to do. So how do we get ASR transcripts that have punctuation and capitalization? Let\u2019s take a look.</p>\n<h2 id="how-punctuation-in-automatic-speech-recognition-works">How Punctuation in Automatic Speech Recognition Works</h2>\n<p>If you need punctuation in your transcripts, what are your options? ASR providers typically have two ways of getting punctuation into a transcript. The first is a separate punctuation and capitalization model that runs after the text has already been generated by the speech-to-text model. Because punctuation is often a reflection of how something would be said out loud, this method, based only on the text, can create some less-than-useful outputs. This can be shown with a simple example. What is the correct punctuation for the sentence below?</p>\n<blockquote>\n<p>sam ate dinner</p>\n</blockquote>\n<p>You might have said \u201Ca period\u201D, which is probably what one of these <em>post hoc</em> models would have said. But is this a question or a statement? From the text alone, without any context, it\u2019s impossible to determine-it could be a statement or a question. If I played the audio for you, though, you\u2019d immediately understand whether the sentence is a question or a statement based on the speaker\u2019s intonation. Determining the correct punctuation in this case is impossible with the words alone; it\u2019s much easier if you have access to the audio.</p>\n<p>This leads us to the second way to add punctuation to a transcript. If you\u2019re using an <a href="https://blog.deepgram.com/deep-learning-speech-recognition/">end-to-end deep learning system</a> as part of the process to generate your transcript, it\u2019s possible to have it output punctuation and capitalization at the same time as the words. A model that creates both text and punctuation can make decisions based on acoustic information, which is often the difference between good and bad punctuation. Let\u2019s consider another example.</p>\n<WhitepaperPromo whitepaper="latest" />\n<p>Consider how the word \u201Chuh\u201D might be used in speech:</p>\n<ul>\n<li>Huh? = \u201CWhat did you say?\u201D</li>\n<li>Huh!? = \u201CWhat are you talking about?!\u201D</li>\n<li>Huh. = \u201COh, I see.\u201D</li>\n</ul>\n<p>All of these are clearly different to a native speaker of English, and you\u2019d have no trouble picking out which meaning was intended from speech (and the punctuation here probably helped you know how I intended these to be read). But in the context of an ASR transcript, knowing which meaning was intended would be very difficult, which is why using the audio is so critical. But even with access to the audio, automatic punctuation can still be tricky. Why? There are three main reasons. The first is that people don\u2019t always speak in sentences. If they\u2019re reading a speech they probably will, but if you listen to how people speak in meetings or casual settings, you\u2019ll find that they often don\u2019t speak in tidy ways.</p>\n<p>This can make it difficult to decide how something should be punctuated since there aren\u2019t clear rules for punctuating text that\u2019s derived directly from spoken language. Second, people can disagree on punctuation. Some examples include when and where commas get used (I\u2019m looking at you, <a href="https://thewritelife.com/is-the-oxford-comma-necessary/">Oxford comma</a>), whether two sentences should be separated by a period or a semicolon, and if side thoughts should be put-inside em-dashes-or (inside parentheses). Because of these variations, it can be challenging to get punctuation to seem exactly right to everyone looking at a transcript (or even a written work like this blog post, for example). Finally, deep learning systems for speech recognition typically use small windows of audio to make predictions about what word is being said. This works well at the level of individual sounds, but can be tricky with intonation, which is one of the main things a system might look at to determine punctuation. That\u2019s because intonation patterns can be spread across multiple words within a phrase, meaning any given window might not have all the information it needs to make the best prediction possible.</p>\n<p>One solution that some vendors have used to address this problem is having a second script that runs after the first model that doesn\u2019t seek to punctuate or capitalize the text, but rather to double-check that what the model output is correct. This can serve as a kind of spelling and grammar check after the fact to help make sure that the punctuation looks correct.</p>\n<h2 id="how-to-evaluate-punctuation-and-capitalization-accuracy">How to Evaluate Punctuation and Capitalization Accuracy</h2>\n<p>So how do you evaluate the accuracy of different punctuation and capitalization methods? You can do similar calculations that are used for <a href="https://blog.deepgram.com/what-is-word-error-rate/">word error rate (WER)</a>, a standard way of calculating the accuracy of ASR transcripts. For punctuation, we use the Punctuation Error Rate (PER). When calculating the PER, we care about how punctuation is placed relative to the words (its grammatical accuracy); PER is thus the number of punctuation errors (including misplacements relative to the truth words) divided by the number of truth punctuation tokens; i.e., number of real places that should have punctuation, as seen below.</p>\n<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1661976861/blog/complete-guide-punctuation-capitalization-speech-to-text/per_def.png" alt=""></p>\n<p>The Capitalization Error (CapER) is used for capitalization accuracy, and has its own subtlety. If we were to compare capitalization across all words in a text, we\u2019d have a very skewed metric because most words aren\u2019t capitalized. Rather than comparing the first letter of all words in the truth/predicted sequences, we compare just the aligned words which are capitalized in the truth and/or predicted text.</p>\n<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1661976861/blog/complete-guide-punctuation-capitalization-speech-to-text/caper_example.png" alt=""></p>\n<p>In the example above, we see that there are two capitalization errors in a sentence with only two capitalized words in the truth text.</p>\n<h2 id="deepgrams-punctuation-and-capitalization-for-asr-offerings">Deepgram\u2019s Punctuation and Capitalization for ASR Offerings</h2>\n<p>As we\u2019ve seen, end-to-end deep learning systems like Deepgram that have access to acoustic information provide the best option for punctuating and capitalizing a text based on a spoken audio file. At Deepgram, we offer punctuation for all of our models, in any of the languages that we offer-all for free; capitalization is also included for relevant languages. Both punctuation and capitalization have been optimized for each language and use case model. <a href="https://developers.deepgram.com/documentation/features/punctuate/">Check out our documentation for all of the details about how Deepgram punctuation and capitalization work</a>.</p>\n<h2 id="wrapping-up">Wrapping Up</h2>\n<p>If you\u2019d like to give Deepgram\u2019s speech-to-text solution a try-whether you need punctuation or not-you can <a href="https://console.deepgram.com/signup">sign up for a free trial and get $150 in free credits</a>, or <a href="https://deepgram.com/contact-us/">reach out to a member of our team</a> to discuss how Deepgram can help your business achieve its goals.</p>';
}
const $$Astro = createAstro("/Users/sandrarodgers/web-next/blog/src/content/blog/posts/complete-guide-punctuation-capitalization-speech-to-text/index.md", "", "file:///Users/sandrarodgers/web-next/blog/");
const $$Index = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$Index;
  new Slugger();
  return renderTemplate`<head>${renderHead($$result)}</head><p>Do you ever get frustrated when youre trying to dictate a text message or email and your phone keeps capitalizing the wrong words? Or adding extra periods at the end of your sentences? Youre not alone! Automatic speech recognition for punctuation and capitalization can be tricky. In this blog post, well explore what punctuation and capitalization mean, how theyre used, and some of the problems they present for speech-to-text solutions. Well also explain what your best option for a speech recognition solution is if you need a transcript thats punctuated and capitalized correctly. To get started, lets take a look at what punctuation and capitalization are, how theyre used, and how they different cross-linguistically.</p>
<h2 id="what-is-punctuation">What is Punctuation?</h2>
<p>Punctuation characters are symbols that are used to indicate the structure and organization of a text. In the West, <a href="https://www.bbc.com/culture/article/20150902-the-mysterious-origins-of-punctuation">the tradition of punctuation dates from the 3rd Century BCE</a>. Before that, texts in languages like Greek and Latin were written without any punctuation or capitalization at all-and even without spaces between words! Today, punctuation marks are used, among other things, to separate words and phrases and indicate when a sentence is ending. In English, the most common punctuation characters are the period ( . ), comma ( , ) question mark ( ? ), and exclamation point ( ! ), but there are many others, including the semicolon ( ; ), colon ( : ), dash ( - ), parentheses ( () ), and quotation marks (  ). But other languages have different punctuation standards. In German, for example, quotation marks often appear as (  ). Japanese punctuation, although somewhat inspired by how Western languages punctuate, uses its own symbols, using ( ) instead of a period/full stop, and ( ) for commas. Other languages have entirely separate traditions of punctuation, marking things that we wouldnt in English or other Western languages. If we look at Tibetan, for example, we find characters that mark the break between syllables (  ), symbols for the end of a section of text (  ) and a larger topic (  ), and a character that marks the start of a text (  ).</p>
<h3 id="what-is-the-purpose-of-punctuation">What is the Purpose of Punctuation?</h3>
<p>The main function of punctuation is to make a text more understandable. As mentioned above, prior to punctuation, words were written in a singlestreamofcharacterslikethis, which made texts challenging to read. Language is, first and foremost, a spoken or signed system of communication, and not a written one. That means we often need some help to make sure that we can understand whats being communicated in writing, and punctuation is one of the tools that we use to do that (along with other things like spelling according to the relevant standard). For example, if someones speaking out loud, youre unlikely to confuse Lets eat, Grandma! and Lets eat Grandma!</p>
<p>But in writing, its the comma that makes the difference. Punctuation helps by providing some sense of the intonation and pacing that would occur if a sentence was spoken out loud. For example, commas are used to mark brief pauses between words or phrases, while periods are used to mark the end of a sentence, what linguistically we might call an intonational unit. In both cases, these pauses have specific acoustic features that indicate what a speaker is doing when spoken out loud. Likewise, question marks and exclamation points can be used to show excitement or emphasize a point, again reflecting how a sentence would be pronounced and serve to influence the way that a sentence is read. By including punctuation marks like this in writing, the written word is brought closer to the spoken word.</p>
<p>Organization of a text is another purpose of punctuation. For example, semicolons and colons are often used to list items, while dashes can be used to separate parts of a sentence and quotation marks are used to set off dialogue or direct quotes from other sources. These features might not exactly match certain pauses or intonation in the same way that a question mark does, but they still serve to help make a text more understandable. For example, English has a particular intonation for lists-if I say I need three things: milk, bread, and eggs theres a pause at the colon, then rising intonation on milk, then a pause, then rising intonation on bread, then a pause, and then falling intonation on eggs. This pattern helps our listeners understand that were listing things off, but its spread across several words, and doesnt occur only where the colon does.</p>
<h2 id="what-is-capitalization">What is Capitalization?</h2>
<p>Capitalization is the process of making a letter capital, or upper case. In English, we typically use capital letters to begin sentences and proper nouns, or for emphasis in casual writing. Proper nouns are the specific names of people, places, things, or organizations. For example, Susan, New York City, and Nintendo are all proper nouns.  Other languages have different standards for capitalization. In German, you capitalize <em>every</em> noun, not just proper nouns. And many languages dont have capital letters at all. Arabic, Hebrew, Japanese, Chinese, Hindi-no capital option exists in these languages.</p>
<p>Although capitalization isnt found in all languages, its still important to consider it along with punctuation when thinking about ASR. To some extent, this is because in many Western languages, the two go together-a period marks the end of one sentence, and a capitalized word marks the start of the next. Additionally, these have often been thought of as the same kind of problem and been treated together historically, so it makes sense to think about them together.</p>
<h2 id="why-punctuation-and-capitalization-matter-for-speech-recognition">Why Punctuation and Capitalization Matter for Speech Recognition</h2>
<p>Typically, ASR systems dont output punctuation or capitalization-the ASR transcripts that you get just consist of lower-case words without any punctuation at all. If youre planning to use your transcripts as the input for machine learning, you might not need to worry about punctuation at all. Typically, these systems are happiest working with unformatted text. However, there are a couple of reasons why you might want your text to be formatted. The first is that, without this formatting, the texts can be hard for humans to read. Just take a look at the snippet below, from <a href="https://deepgram.com/asr-comparison/compare-accuracy/select-alternative/">Deepgrams transcription of NASAs first all-female spacewalk</a>, and you can see how hard it is to figure out whats happening without capitalization and punctuation.</p>
<blockquote>
<p>and jessica and christina we are so proud of you im gonna do great today well be waiting for you here in a couple of hours when you get home im gonna hand you over to stephanie now have a great great eva drew thank you so much and our pleasure working with you this morning and im working on getting my ev hat open and i can report is open and stowed</p>
</blockquote>
<p>If you want something thats readable by humans, capitalization and punctuation are necessary to make things clearer. You can see the same NASA text below, but with capitalization and punctuation (as well as <a href="https://blog.deepgram.com/what-is-speaker-diarization/">diarization</a>-breaking up the transcript to isolate different speakers).</p>
<blockquote>
<p>[SPEAKER 1:] and Jessica and Christina, we are so proud of you. Im gonna do great today. Well be waiting for you here in a couple of hours when you get home. Im gonna hand you over to Stephanie now. Have a great great EVA.</p>
<p>[SPEAKER 2:] Drew, thank you so much. And our pleasure working with you this morning, and Im working on getting my EV hat open and I can report. Is open and stowed.</p>
</blockquote>
<p>Its obvious, even at a glance, how much easier it is to read a text like this than it is to read the kind of stream-of-consciousness we see without punctuation and capitalization.  Another use for punctuation in speech-to-text relates to <a href="https://blog.deepgram.com/sentiment-analysis-emotion-regulation-difference/">sentiment analysis</a>. Punctuation marks can be used to divide a text into sections so that you can ask whats the sentiment in this particular chunk of the transcript? If you have a transcript from an hour-long call, its more granular to look at sentiment in small chunks, rather than across the whole call, which punctuation makes easier to do. So how do we get ASR transcripts that have punctuation and capitalization? Lets take a look.</p>
<h2 id="how-punctuation-in-automatic-speech-recognition-works">How Punctuation in Automatic Speech Recognition Works</h2>
<p>If you need punctuation in your transcripts, what are your options? ASR providers typically have two ways of getting punctuation into a transcript. The first is a separate punctuation and capitalization model that runs after the text has already been generated by the speech-to-text model. Because punctuation is often a reflection of how something would be said out loud, this method, based only on the text, can create some less-than-useful outputs. This can be shown with a simple example. What is the correct punctuation for the sentence below?</p>
<blockquote>
<p>sam ate dinner</p>
</blockquote>
<p>You might have said a period, which is probably what one of these <em>post hoc</em> models would have said. But is this a question or a statement? From the text alone, without any context, its impossible to determine-it could be a statement or a question. If I played the audio for you, though, youd immediately understand whether the sentence is a question or a statement based on the speakers intonation. Determining the correct punctuation in this case is impossible with the words alone; its much easier if you have access to the audio.</p>
<p>This leads us to the second way to add punctuation to a transcript. If youre using an <a href="https://blog.deepgram.com/deep-learning-speech-recognition/">end-to-end deep learning system</a> as part of the process to generate your transcript, its possible to have it output punctuation and capitalization at the same time as the words. A model that creates both text and punctuation can make decisions based on acoustic information, which is often the difference between good and bad punctuation. Lets consider another example.</p>
${renderComponent($$result, "WhitepaperPromo", WhitepaperPromo, { "whitepaper": "latest" })}
<p>Consider how the word huh might be used in speech:</p>
<ul>
<li>Huh? = What did you say?</li>
<li>Huh!? = What are you talking about?!</li>
<li>Huh. = Oh, I see.</li>
</ul>
<p>All of these are clearly different to a native speaker of English, and youd have no trouble picking out which meaning was intended from speech (and the punctuation here probably helped you know how I intended these to be read). But in the context of an ASR transcript, knowing which meaning was intended would be very difficult, which is why using the audio is so critical. But even with access to the audio, automatic punctuation can still be tricky. Why? There are three main reasons. The first is that people dont always speak in sentences. If theyre reading a speech they probably will, but if you listen to how people speak in meetings or casual settings, youll find that they often dont speak in tidy ways.</p>
<p>This can make it difficult to decide how something should be punctuated since there arent clear rules for punctuating text thats derived directly from spoken language. Second, people can disagree on punctuation. Some examples include when and where commas get used (Im looking at you, <a href="https://thewritelife.com/is-the-oxford-comma-necessary/">Oxford comma</a>), whether two sentences should be separated by a period or a semicolon, and if side thoughts should be put-inside em-dashes-or (inside parentheses). Because of these variations, it can be challenging to get punctuation to seem exactly right to everyone looking at a transcript (or even a written work like this blog post, for example). Finally, deep learning systems for speech recognition typically use small windows of audio to make predictions about what word is being said. This works well at the level of individual sounds, but can be tricky with intonation, which is one of the main things a system might look at to determine punctuation. Thats because intonation patterns can be spread across multiple words within a phrase, meaning any given window might not have all the information it needs to make the best prediction possible.</p>
<p>One solution that some vendors have used to address this problem is having a second script that runs after the first model that doesnt seek to punctuate or capitalize the text, but rather to double-check that what the model output is correct. This can serve as a kind of spelling and grammar check after the fact to help make sure that the punctuation looks correct.</p>
<h2 id="how-to-evaluate-punctuation-and-capitalization-accuracy">How to Evaluate Punctuation and Capitalization Accuracy</h2>
<p>So how do you evaluate the accuracy of different punctuation and capitalization methods? You can do similar calculations that are used for <a href="https://blog.deepgram.com/what-is-word-error-rate/">word error rate (WER)</a>, a standard way of calculating the accuracy of ASR transcripts. For punctuation, we use the Punctuation Error Rate (PER). When calculating the PER, we care about how punctuation is placed relative to the words (its grammatical accuracy); PER is thus the number of punctuation errors (including misplacements relative to the truth words) divided by the number of truth punctuation tokens; i.e., number of real places that should have punctuation, as seen below.</p>
<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1661976861/blog/complete-guide-punctuation-capitalization-speech-to-text/per_def.png" alt=""></p>
<p>The Capitalization Error (CapER) is used for capitalization accuracy, and has its own subtlety. If we were to compare capitalization across all words in a text, wed have a very skewed metric because most words arent capitalized. Rather than comparing the first letter of all words in the truth/predicted sequences, we compare just the aligned words which are capitalized in the truth and/or predicted text.</p>
<p><img src="https://res.cloudinary.com/deepgram/image/upload/v1661976861/blog/complete-guide-punctuation-capitalization-speech-to-text/caper_example.png" alt=""></p>
<p>In the example above, we see that there are two capitalization errors in a sentence with only two capitalized words in the truth text.</p>
<h2 id="deepgrams-punctuation-and-capitalization-for-asr-offerings">Deepgrams Punctuation and Capitalization for ASR Offerings</h2>
<p>As weve seen, end-to-end deep learning systems like Deepgram that have access to acoustic information provide the best option for punctuating and capitalizing a text based on a spoken audio file. At Deepgram, we offer punctuation for all of our models, in any of the languages that we offer-all for free; capitalization is also included for relevant languages. Both punctuation and capitalization have been optimized for each language and use case model. <a href="https://developers.deepgram.com/documentation/features/punctuate/">Check out our documentation for all of the details about how Deepgram punctuation and capitalization work</a>.</p>
<h2 id="wrapping-up">Wrapping Up</h2>
<p>If youd like to give Deepgrams speech-to-text solution a try-whether you need punctuation or not-you can <a href="https://console.deepgram.com/signup">sign up for a free trial and get $150 in free credits</a>, or <a href="https://deepgram.com/contact-us/">reach out to a member of our team</a> to discuss how Deepgram can help your business achieve its goals.</p>`;
}, "/Users/sandrarodgers/web-next/blog/src/content/blog/posts/complete-guide-punctuation-capitalization-speech-to-text/index.md");

export { compiledContent, $$Index as default, frontmatter, metadata, rawContent };
